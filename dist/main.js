(()=>{"use strict";const e=function(){let e=[];return{addItem:function(t){e.push(t),console.log(e)},itemFactory:(e,t,d,n,l)=>({priority:e,title:t,description:d,dueDate:n,category:l}),editItem:function(t,d,n,l,i,o){e[t].priority=d,e[t].title=n,e[t].description=l,e[t].dueDate=i,e[t].category=o,console.log(e)},deleteItem:function(t){e.splice(t,1)},itemArray:e}}(),t=document.getElementById("add-item"),d=document.getElementById("modal-close"),n=document.getElementById("edit-close");let l,i=function(){function e(){document.querySelector(".modal").style.display="flex"}function l(){document.querySelector(".modal").style.display="none"}function i(){document.querySelector(".edit-modal").style.display="none"}return t.addEventListener("click",(function(){e()})),d.addEventListener("click",(function(){l()})),n.addEventListener("click",(function(){i()})),{showModal:e,hideModal:l,showEditModal:function(){document.querySelector(".edit-modal").style.display="flex"},hideEditModal:i}}();function o(){for(;document.querySelector("tbody").childNodes.length>1;)document.querySelector("tbody").removeChild(document.querySelector("tbody").lastChild);let t=e.itemArray;for(let e=0;e<t.length;e++){let d=t[e].priority,n=t[e].title,l=t[e].description,i=t[e].dueDate,o=t[e].category,c=document.createElement("tr");c.setAttribute("data-set",e);let m=document.createElement("td");m.innerHTML='<input type="checkbox" value="test" checked="unchecked">',c.appendChild(m);let r=document.createElement("td");r.innerHTML="<p class="+d+">⚫</p>",c.appendChild(r);let a=document.createElement("td");a.innerHTML=n,c.appendChild(a);let u=document.createElement("td");u.innerHTML=l,c.appendChild(u);let y=document.createElement("td");y.innerHTML=i,c.appendChild(y);let s=document.createElement("td");s.innerHTML=o,c.appendChild(s);let E=document.createElement("td");E.innerHTML='<button class="edit-btn">✎</button>',c.appendChild(E),document.querySelector("tbody").appendChild(c)}}document.getElementById("modal-submit").addEventListener("click",(function(){let t=document.getElementById("priority").value,d=document.getElementById("title").value,n=document.getElementById("description").value,l=document.getElementById("due-date").value,c=document.getElementById("category").value;e.addItem(e.itemFactory(t,d,n,l,c)),i.hideModal(),o(),document.getElementById("modal-form").reset()})),document.addEventListener("click",(function(t){t.target&&"edit-btn"===t.target.className&&(l=t.target.parentElement.parentElement.getAttribute("data-set"),function(t){i.showEditModal();let d=e.itemArray[t].priority;document.getElementById("edit-priority").value=d;let n=e.itemArray[t].title;document.getElementById("edit-title").value=n;let l=e.itemArray[t].description;document.getElementById("edit-description").value=l;let o=e.itemArray[t].dueDate;document.getElementById("edit-date").value=o;let c=e.itemArray[t].category;document.getElementById("edit-category").value=c}(l))})),document.getElementById("edit-submit").addEventListener("click",(function(){let t=document.getElementById("edit-priority").value,d=document.getElementById("edit-title").value,n=document.getElementById("edit-description").value,c=document.getElementById("edit-date").value,m=document.getElementById("edit-category").value;e.editItem(l,t,d,n,c,m),i.hideEditModal(),o()})),document.getElementById("delete-item").addEventListener("click",(function(){e.deleteItem(l),i.hideEditModal(),o()}))})();